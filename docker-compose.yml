services:
  gemini-api:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "7860:7860"
    volumes:
      - ./data:/app/data
    env_file:
      - .env
    restart: unless-stopped
    # 限制资源使用（因为包含 Chrome）
    deploy:
      resources:
        limits:
          cpus: '2'
          memory: 2G
    networks:
      - 1panel-network

networks:
  1panel-network:
    external: true
